<section
  id="social-proof"
  class="relative overflow-hidden py-16 sm:py-20 lg:py-24 bg-gradient-to-br from-peach-50 to-neutral-100"
  role="region"
  aria-label="Testemunhos em vídeo do Café com Vendas"
  data-reveal
>
  <div class="absolute inset-0 overflow-hidden" aria-hidden="true">
    <div class="absolute top-10 right-10 w-32 h-32 rounded-full blur-3xl bg-gradient-to-r from-peach-200/20 to-gold-200/20"></div>
    <div class="absolute bottom-20 left-10 w-24 h-24 rounded-full blur-2xl bg-gradient-to-r from-gold-200/15 to-peach-200/15"></div>
    
    <svg class="absolute inset-0 w-full h-full opacity-5" viewBox="0 0 1200 600" preserveAspectRatio="xMidYMid slice">
      <defs>
        <pattern id="testimonial-pattern" x="0" y="0" width="80" height="80" patternUnits="userSpaceOnUse">
          <circle cx="40" cy="40" r="1" fill="currentColor" class="text-gold-400"/>
        </pattern>
      </defs>
      <rect width="100%" height="100%" fill="url(#testimonial-pattern)"/>
    </svg>
  </div>

  <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <header class="text-center mb-12 sm:mb-16 lg:mb-20">
      <div class="flex justify-center mb-6 sm:mb-8">
        <div class="w-20 h-1 rounded-full bg-gradient-to-r from-transparent via-gold-400 to-transparent"></div>
      </div>
      
      <h2 class="font-lora font-bold text-[clamp(1.75rem,4vw,2.5rem)] leading-tight text-navy-800 mb-4 sm:mb-6">
        Elas vieram pela estratégia. Ficaram pela transformação.
      </h2>
      
      <p class="font-century text-lg leading-relaxed text-navy-800/70 max-w-2xl mx-auto">
        Histórias reais de empreendedoras que escolheram o mapa para a liberdade
      </p>
    </header>

    <div class="testimonials-carousel-container relative">
      <div class="testimonials-carousel overflow-hidden">
        <div class="testimonials-track flex gap-6 pb-12 transition-transform duration-500 ease-out" data-carousel-track>
          
          {% for video in testimonials.videos %}
          <article class="carousel-slide flex-shrink-0 w-full sm:w-80 lg:w-96">
            <div class="video-card group overflow-hidden rounded-2xl border border-white/50 bg-white/90 backdrop-blur-sm shadow-[0_8px_32px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-1 hover:shadow-[0_16px_48px_rgba(0,0,0,0.12)]" data-video-card>
              <div class="relative aspect-video youtube-embed bg-gradient-to-br from-navy-800 to-burgundy-700" data-video-id="{{ video.videoId }}">
                <img 
                  src="{{ video.thumbnail }}" 
                  alt="Testemunho de {{ video.name }}, {{ video.profession }} de {{ video.location }}"
                  class="absolute inset-0 w-full h-full object-cover"
                  loading="lazy"
                  decoding="async"
                />
                <button 
                  type="button"
                  class="absolute inset-0 flex items-center justify-center bg-black/20 transition-colors hover:bg-black/30 focus:outline-none focus:ring-4 focus:ring-gold-400/20 youtube-play-btn group"
                  aria-label="Reproduzir testemunho em vídeo de {{ video.name }}"
                  data-analytics-event="play_testimonial_video"
                >
                  <svg class="w-16 h-16 text-white drop-shadow-lg transition-transform group-hover:scale-110" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M8 5v14l11-7z"/>
                  </svg>
                </button>
              </div>
              <div class="p-6">
                <h3 class="font-lora font-semibold text-lg text-navy-800 mb-2">{{ video.name }}</h3>
                <p class="font-century text-sm text-navy-800/60">{{ video.profession }} - {{ video.location }}</p>
                <p class="font-century text-sm text-navy-800/80 mt-3">"{{ video.result }}"</p>
              </div>
            </div>
          </article>
          {% endfor %}

        </div>
      </div>

      <nav class="flex items-center justify-center mt-8 space-x-4" aria-label="Navegação de testemunhos">
        <button 
          type="button"
          class="carousel-prev group flex items-center justify-center w-10 h-10 rounded-full border border-navy-800/10 bg-white/90 text-navy-800/40 transition-all duration-300 hover:text-navy-800 hover:bg-white hover:border-navy-800/20 focus:outline-none focus:ring-4 focus:ring-gold-400/20"
          aria-label="Ver testemunho anterior"
          data-carousel-prev
          data-analytics-event="carousel_prev_testimonials"
        >
          <svg class="w-4 h-4 lg:w-5 lg:h-5 transition-transform duration-200 group-hover:-translate-x-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
          </svg>
        </button>

        <div class="carousel-pagination flex space-x-1" data-carousel-pagination role="tablist" aria-label="Indicadores de testemunhos"></div>

        <button 
          type="button"
          class="carousel-next group flex items-center justify-center w-10 h-10 rounded-full border border-navy-800/10 bg-white/90 text-navy-800/40 transition-all duration-300 hover:text-navy-800 hover:bg-white hover:border-navy-800/20 focus:outline-none focus:ring-4 focus:ring-gold-400/20"
          aria-label="Ver próximo testemunho"
          data-carousel-next
          data-analytics-event="carousel_next_testimonials"
        >
          <svg class="w-4 h-4 lg:w-5 lg:h-5 transition-transform duration-200 group-hover:translate-x-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
          </svg>
        </button>
      </nav>
    </div>

    <footer class="text-center mt-16">
      <p class="font-century text-base italic text-navy-800/50">
        Junte-se às empreendedoras que já transformaram os seus negócios
      </p>
      
      <a href="#oferta" 
         class="inline-flex items-center justify-center mt-6 px-6 py-3 rounded-[14px] font-bold text-white transform-gpu transition-all duration-250 bg-gradient-to-r from-burgundy-700 to-navy-800 shadow-[0_10px_30px_rgba(2,6,23,0.5)] hover:scale-[1.03] focus:outline-none focus:ring-4 focus:ring-neutral-200/20"
         data-analytics-event="click_testimonials_cta">
        Ver como o método funciona
        <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
        </svg>
      </a>
    </footer>
  </div>
</section>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ItemList",
  "name": "Testemunhos em Vídeo - Café com Vendas",
  "description": "Histórias reais de empreendedoras que transformaram os seus negócios",
  "itemListElement": [
    {% for video in testimonials.videos -%}
    {
      "@type": "VideoObject",
      "position": {{ loop.index }},
      "name": "{{ video.name }} - Testemunho Café com Vendas",
      "description": "{{ video.result }}",
      "thumbnailUrl": "{{ video.thumbnail }}",
      "contentUrl": "https://www.youtube.com/watch?v={{ video.videoId }}",
      "embedUrl": "https://www.youtube.com/embed/{{ video.videoId }}",
      "uploadDate": "2024-01-15",
      "publisher": {
        "@type": "Organization",
        "name": "Café com Vendas"
      },
      "creator": {
        "@type": "Person",
        "name": "{{ video.name }}",
        "jobTitle": "{{ video.profession }}"
      }
    }{% if not loop.last %},{% endif %}
    {% endfor %}
  ]
}
</script>