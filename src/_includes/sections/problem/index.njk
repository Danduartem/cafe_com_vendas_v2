{# problem.njk - Problem & Agitation Section Template #}

<!-- Problem Section Start -->
<section
  id="s-problem"
  data-section="problem"
  aria-label="Problem and Pain Points"
  data-analytics-section="problem"
  class="relative w-full overflow-hidden bg-gradient-to-br from-neutral-50 via-white to-peach-50/20 py-24 sm:py-32 lg:py-40 xl:py-48 scroll-mt-14"
  data-scroll-offset
>
  {# Refined decorative elements with radial wash #}
  <div class="absolute top-1/3 left-0 w-[32rem] h-[32rem] bg-[radial-gradient(circle,rgba(129,23,31,0.06)_0%,rgba(129,23,31,0.03)_50%,transparent_100%)] rounded-full blur-3xl transform -translate-x-1/2 pointer-events-none"></div>
  <div class="absolute bottom-1/3 right-0 w-[28rem] h-[28rem] bg-[radial-gradient(circle,rgba(229,144,116,0.08)_0%,rgba(229,144,116,0.04)_50%,transparent_100%)] rounded-full blur-3xl transform translate-x-1/3 pointer-events-none"></div>

  {# Main content container with true 55/45 split layout #}
  <div class="relative max-w-[1280px] mx-auto px-6 sm:px-8 lg:px-12">
    <div class="grid grid-cols-1 lg:grid-cols-[55fr_45fr] items-start gap-12 lg:gap-16 xl:gap-20">

      {# Primary content column - optically aligned with constrained line length #}
      <div class="order-2 lg:order-1 lg:pt-2">
        {# Eyebrow text with gradient accent #}
        <div data-reveal class="opacity-0 translate-y-3 transition-all duration-200 ease-out mb-4">
          <p class="text-sm font-medium text-burgundy-700 uppercase tracking-[0.1em] font-century">O Problema Real</p>
        </div>

        {# Subtle accent line with refined positioning #}
        <div data-reveal class="opacity-0 translate-y-3 transition-all duration-200 ease-out mb-8 delay-75">
          <span class="inline-block h-[1.5px] w-20 rounded-full bg-gradient-to-r from-neutral-400 to-neutral-300"></span>
        </div>

        {# Main headline with enhanced typography hierarchy and refined scaling #}
        <h2 data-reveal class="opacity-0 translate-y-3 font-lora font-semibold tracking-[-0.02em] leading-[1.06] text-[clamp(2.5rem,4.5vw,3.75rem)] text-navy-900 transition-all duration-300 ease-[cubic-bezier(0.25,0.8,0.25,1)] delay-100 max-w-[48ch] mb-7 lg:mb-9">
          {{ currentSection.copy.headline | replace('12h por dia', '<span class="text-burgundy-700 relative"><span class="absolute -inset-x-1 -inset-y-0.5 bg-burgundy-50/40 rounded-md -z-10"></span>12h por dia</span>') | safe }}
        </h2>

        {# Pain points list with enhanced visual hierarchy and micro-interactions #}
        <div data-reveal class="opacity-0 translate-y-3 transition-all duration-300 ease-[cubic-bezier(0.25,0.8,0.25,1)] delay-150 mb-9">
          <h3 class="sr-only">Sinais de sobrecarga empresarial</h3>
          
          <ul role="list" class="space-y-3.5">
            {# Display all pain points with enhanced interactivity #}
            {% for point in currentSection.copy.pain_points %}
            <li class="flex items-baseline gap-3.5 group transition-all duration-200 ease-out hover:translate-x-1 focus-within:translate-x-1 rounded-lg p-2 -m-2 hover:bg-neutral-50/50 cursor-default" data-reveal-item tabindex="0" role="listitem" aria-label="Pain point {{ loop.index }}">
              {# Enhanced bullet with subtle glow effect #}
              <span class="flex-shrink-0 mt-[0.4375rem] w-1.5 h-1.5 rounded-full bg-gradient-to-br from-burgundy-600 to-burgundy-700 shadow-sm group-hover:shadow-burgundy-200 group-hover:shadow-md transition-all duration-200" aria-hidden="true"></span>
              <p class="font-century text-neutral-700 text-[1.0625rem] lg:text-[1.125rem] leading-[1.55] max-w-[58ch] group-hover:text-neutral-800 transition-colors duration-200">{{ point }}</p>
            </li>
            {% endfor %}
          </ul>
        </div>

        {# Supporting description with enhanced readability #}
        <p data-reveal class="opacity-0 translate-y-3 font-century text-neutral-650 max-w-[58ch] text-[1.0625rem] lg:text-[1.1875rem] leading-[1.6] transition-all duration-300 ease-[cubic-bezier(0.25,0.8,0.25,1)] delay-200 mb-7">
          {{ currentSection.copy.description | replace('"trabalhar duro"', '<em class="font-medium not-italic text-navy-800 bg-neutral-100/60 px-1.5 py-0.5 rounded">"trabalhar duro"</em>') | replace('trabalhar de forma diferente', '<span class="font-semibold text-burgundy-700 relative"><span class="absolute -inset-x-0.5 bottom-0 h-0.5 bg-burgundy-200 rounded-full"></span>trabalhar de forma diferente</span>') | safe }}
        </p>

        {# Enhanced micro-CTA with sophisticated interactions #}
        <div class="opacity-0 translate-y-3 mt-6 transition-all duration-300 ease-[cubic-bezier(0.25,0.8,0.25,1)] delay-275" data-reveal>
          <a href="#s-solution" data-analytics-event="click_problem_cta"
             class="group inline-flex items-center gap-2.5 text-burgundy-700 font-semibold
                    transition-all duration-300 ease-[cubic-bezier(0.25,0.8,0.25,1)]
                    hover:text-burgundy-800 hover:gap-4
                    focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-burgundy-500 focus-visible:ring-offset-3 focus-visible:ring-offset-white
                    active:scale-[0.98]
                    text-base lg:text-[1.0625rem]
                    relative overflow-hidden
                    before:absolute before:inset-0 before:-translate-x-full before:bg-gradient-to-r before:from-transparent before:via-burgundy-50/20 before:to-transparent before:transition-transform before:duration-500 hover:before:translate-x-full">
            <span class="relative border-b border-burgundy-700/30 group-hover:border-burgundy-800/50 transition-all duration-300 pb-0.5">{{ currentSection.copy.cta.label }}</span>
            <svg class="w-4 h-4 transition-all duration-300 group-hover:translate-x-1 group-hover:scale-110" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">
              <path fill-rule="evenodd" d="M2.4 8a.6.6 0 01.6-.6h8.51L8.244 4.223a.6.6 0 01.832-.864l4.4 4.2a.6.6 0 010 .864l-4.4 4.2a.6.6 0 01-.832-.864L11.51 8.6H3a.6.6 0 01-.6-.6z" clip-rule="evenodd"/>
            </svg>
          </a>
        </div>
      </div>

      {# Supporting image column - emotionally resonant presentation #}
      <div class="opacity-0 translate-y-3 order-1 lg:order-2 transition-all duration-300 ease-[cubic-bezier(0.25,0.8,0.25,1)] lg:sticky lg:top-24" data-reveal>
        <figure class="relative group">
          {# Stress visualization - multiple layered shadows to show overwhelm #}
          <div class="absolute inset-0 -inset-x-6 -inset-y-6 bg-[radial-gradient(circle,rgba(129,23,31,0.12)_0%,rgba(129,23,31,0.06)_40%,transparent_80%)] rounded-full blur-2xl pointer-events-none"></div>
          <div class="absolute inset-0 -inset-x-4 -inset-y-4 bg-[radial-gradient(circle,rgba(24,24,24,0.08)_0%,transparent_60%)] rounded-full blur-xl pointer-events-none"></div>
          
          {# Main image container with emotional framing #}
          <div class="relative overflow-hidden rounded-xl shadow-[0_8px_32px_rgba(129,23,31,0.15),0_4px_16px_rgba(0,0,0,0.1)] transition-all duration-500 ease-out group-hover:shadow-[0_12px_48px_rgba(129,23,31,0.2),0_8px_24px_rgba(0,0,0,0.15)] border border-neutral-200/50">
            {# Subtle overlay to enhance emotional connection #}
            <div class="absolute inset-0 bg-gradient-to-br from-burgundy-900/5 via-transparent to-navy-900/8 pointer-events-none z-10"></div>
            
            {# Clock overlay - subtle time pressure indicator #}
            <div class="absolute top-4 right-4 z-20 opacity-60 group-hover:opacity-80 transition-opacity duration-300">
              <div class="bg-burgundy-700/90 backdrop-blur-sm text-white text-xs font-semibold px-2.5 py-1.5 rounded-md shadow-lg">
                <span class="flex items-center gap-1.5">
                  <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
                  </svg>
                  <span>12h+</span>
                </span>
              </div>
            </div>
            
            <div class="relative aspect-[3/4] min-h-[500px] lg:min-h-[600px]">
            <picture>
              <!-- WebP/AVIF for modern browsers with 3:4 portrait aspect ratio -->
              <source type="image/avif"
                      srcset="https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_320,ar_3:4,c_fill,q_auto:eco,f_avif,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 320w,
                              https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_480,ar_3:4,c_fill,q_auto:eco,f_avif,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 480w,
                              https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_640,ar_3:4,c_fill,q_auto:good,f_avif,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 640w,
                              https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_800,ar_3:4,c_fill,q_auto:good,f_avif,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 800w,
                              https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_1024,ar_3:4,c_fill,q_auto:good,f_avif,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 1024w"
                      sizes="(max-width: 640px) 100vw, (max-width: 1024px) 45vw, 480px">
              
              <source type="image/webp"
                      srcset="https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_320,ar_3:4,c_fill,q_auto:eco,f_webp,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 320w,
                              https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_480,ar_3:4,c_fill,q_auto:eco,f_webp,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 480w,
                              https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_640,ar_3:4,c_fill,q_auto:good,f_webp,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 640w,
                              https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_800,ar_3:4,c_fill,q_auto:good,f_webp,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 800w,
                              https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_1024,ar_3:4,c_fill,q_auto:good,f_webp,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 1024w"
                      sizes="(max-width: 640px) 100vw, (max-width: 1024px) 45vw, 480px">
              
              <!-- Fallback JPEG with 3:4 portrait responsive srcset -->
              <img src="https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_480,ar_3:4,c_fill,q_auto:eco,f_auto,dpr_auto,g_auto:subject/{{ currentSection.media.image }}" 
                   srcset="https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_320,ar_3:4,c_fill,q_auto:eco,f_auto,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 320w,
                           https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_480,ar_3:4,c_fill,q_auto:eco,f_auto,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 480w,
                           https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_640,ar_3:4,c_fill,q_auto:good,f_auto,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 640w,
                           https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_800,ar_3:4,c_fill,q_auto:good,f_auto,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 800w,
                           https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_1024,ar_3:4,c_fill,q_auto:good,f_auto,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 1024w"
                   sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 600px"
                   alt="{{ currentSection.media.alt }}"
                   width="600" height="800"
                   loading="lazy" 
                   decoding="async"
                   fetchpriority="low"
                   class="absolute inset-0 h-full w-full object-cover transition-transform duration-700 ease-out group-hover:scale-[1.02]" />
            </picture>
            </div>
          </div>
          
          {# Emotional caption with visual connection to content #}
          <div class="mt-6 text-center opacity-75 group-hover:opacity-90 transition-opacity duration-300">
            <p class="font-century text-neutral-600 text-sm italic leading-relaxed max-w-[28ch] mx-auto">
              "Trabalho 12h por dia, mas sinto que não saio do lugar..."
            </p>
            <div class="mt-2 flex justify-center">
              <div class="h-px w-12 bg-gradient-to-r from-transparent via-burgundy-300 to-transparent"></div>
            </div>
          </div>
          
          <figcaption class="sr-only">Empreendedora sobrecarregada trabalhando em excesso, simbolizando o problema de falta de tempo e excesso de tarefas, com indicador visual de sobrecarga de horário.</figcaption>
        </figure>
      </div>

    </div>
  </div>
</section>
<!-- Problem Section End -->