{# vision.njk - Vision & Future State Section Template #}

<!-- Vision Section Start -->
<section
  id="s-vision"
  data-section="vision"
  aria-label="Vision and Future Outcomes"
  data-analytics-section="vision"
  class="relative w-full overflow-hidden bg-gradient-to-br from-neutral-50 via-white to-gold-50/15 py-24 sm:py-32 lg:py-40 xl:py-48 scroll-mt-14"
  data-scroll-offset
>
  {# Aspirational decorative elements with golden accents #}
  <div class="absolute top-1/3 left-0 w-[32rem] h-[32rem] bg-[radial-gradient(circle,rgba(200,154,58,0.08)_0%,rgba(200,154,58,0.04)_50%,transparent_100%)] rounded-full blur-3xl transform -translate-x-1/2 pointer-events-none"></div>
  <div class="absolute bottom-1/3 right-0 w-[28rem] h-[28rem] bg-[radial-gradient(circle,rgba(129,23,31,0.06)_0%,rgba(129,23,31,0.03)_50%,transparent_100%)] rounded-full blur-3xl transform translate-x-1/3 pointer-events-none"></div>

  {# Main content container with true 55/45 split layout #}
  <div class="relative max-w-[1280px] mx-auto px-6 sm:px-8 lg:px-12">
    <div class="grid grid-cols-1 lg:grid-cols-[55fr_45fr] items-start gap-12 lg:gap-16 xl:gap-20">

      {# Primary content column - optically aligned with constrained line length #}
      <div class="order-2 lg:order-1 lg:pt-2">
        {# Eyebrow text with golden accent #}
        <div data-reveal class="opacity-0 translate-y-3 transition-all duration-200 ease-out mb-4">
          <p class="text-sm font-medium text-gold-600 uppercase tracking-[0.1em] font-century">{{ currentSection.copy.eyebrow }}</p>
        </div>

        {# Subtle accent line with golden gradient #}
        <div data-reveal class="opacity-0 translate-y-3 transition-all duration-200 ease-out mb-8 delay-75">
          <span class="inline-block h-[1.5px] w-20 rounded-full bg-gradient-to-r from-gold-400 to-gold-300"></span>
        </div>

        {# Main headline with enhanced typography hierarchy and refined scaling #}
        <h2 data-reveal class="opacity-0 translate-y-3 font-lora font-semibold tracking-[-0.02em] leading-[1.06] text-[clamp(2.5rem,4.5vw,3.75rem)] text-navy-900 transition-all duration-300 ease-[cubic-bezier(0.25,0.8,0.25,1)] delay-100 max-w-[48ch] mb-7 lg:mb-9">
          {{ currentSection.copy.headline | replace('método', '<span class="text-burgundy-700 relative"><span class="absolute -inset-x-1 -inset-y-0.5 bg-burgundy-50/40 rounded-md -z-10"></span>método</span>') | safe }}
        </h2>

        {# Supporting description with enhanced readability - moved before outcomes #}
        <p data-reveal class="opacity-0 translate-y-3 font-century text-neutral-650 max-w-[58ch] text-[1.0625rem] lg:text-[1.1875rem] leading-[1.6] transition-all duration-300 ease-[cubic-bezier(0.25,0.8,0.25,1)] delay-150 mb-8 italic">
          {{ currentSection.copy.description | replace('máquina de vendas', '<span class="font-semibold text-burgundy-700 not-italic relative"><span class="absolute -inset-x-0.5 bottom-0 h-0.5 bg-burgundy-200 rounded-full"></span>máquina de vendas</span>') | safe }}
        </p>

        {# Vision outcomes list with enhanced visual hierarchy and micro-interactions #}
        <div data-reveal class="opacity-0 translate-y-3 transition-all duration-300 ease-[cubic-bezier(0.25,0.8,0.25,1)] delay-200 mb-9">
          <h3 class="sr-only">Resultados da transformação empresarial</h3>
          
          <ul role="list" class="space-y-3.5">
            {# Display all vision outcomes with enhanced interactivity #}
            {% for outcome in currentSection.copy.vision_outcomes %}
            <li class="flex items-baseline gap-3.5 group transition-all duration-200 ease-out hover:translate-x-1 focus-within:translate-x-1 rounded-lg p-2 -m-2 hover:bg-gold-50/30 cursor-default" data-reveal-item tabindex="0" role="listitem" aria-label="Vision outcome {{ loop.index }}">
              {# Enhanced bullet with golden glow effect #}
              <span class="flex-shrink-0 mt-[0.4375rem] w-1.5 h-1.5 rounded-full bg-gradient-to-br from-gold-500 to-gold-600 shadow-sm group-hover:shadow-gold-200 group-hover:shadow-md transition-all duration-200" aria-hidden="true"></span>
              <p class="font-century text-neutral-700 text-[1.0625rem] lg:text-[1.125rem] leading-[1.55] max-w-[58ch] group-hover:text-neutral-800 transition-colors duration-200">{{ outcome }}</p>
            </li>
            {% endfor %}
          </ul>
        </div>

        {# Guarantee statement with enhanced styling #}
        <div data-reveal class="opacity-0 translate-y-3 transition-all duration-300 ease-[cubic-bezier(0.25,0.8,0.25,1)] delay-250 mb-8">
          <p class="font-century text-navy-800 text-[1.0625rem] lg:text-[1.125rem] leading-[1.5] max-w-[58ch] font-medium relative">
            <span class="absolute -inset-x-2 -inset-y-1 bg-gold-50/60 rounded-md -z-10"></span>
            {{ currentSection.copy.guarantee }}
          </p>
        </div>

        {# Enhanced primary CTA with sophisticated gradient button #}
        <div class="opacity-0 translate-y-3 mt-6 transition-all duration-300 ease-[cubic-bezier(0.25,0.8,0.25,1)] delay-300" data-reveal>
          <a href="#s-solution" data-analytics-event="click_vision_cta"
             class="group inline-flex items-center gap-3 bg-gradient-to-r from-burgundy-700 to-burgundy-800 text-white font-semibold px-8 py-4 rounded-xl
                    transition-all duration-300 ease-[cubic-bezier(0.25,0.8,0.25,1)]
                    hover:from-burgundy-800 hover:to-burgundy-900 hover:gap-4 hover:shadow-lg hover:shadow-burgundy-700/25
                    focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-burgundy-500 focus-visible:ring-offset-3 focus-visible:ring-offset-white
                    active:scale-[0.98]
                    text-base lg:text-[1.0625rem] tracking-wide
                    relative overflow-hidden
                    before:absolute before:inset-0 before:-translate-x-full before:bg-gradient-to-r before:from-transparent before:via-white/10 before:to-transparent before:transition-transform before:duration-500 hover:before:translate-x-full">
            <span class="relative">{{ currentSection.copy.cta.label }}</span>
            <svg class="w-5 h-5 transition-all duration-300 group-hover:translate-x-1 group-hover:scale-110" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
              <path fill-rule="evenodd" d="M2 10a.75.75 0 01.75-.75h12.59l-2.1-1.95a.75.75 0 111.02-1.1l3.5 3.25a.75.75 0 010 1.1l-3.5 3.25a.75.75 0 11-1.02-1.1l2.1-1.95H2.75A.75.75 0 012 10z" clip-rule="evenodd"/>
            </svg>
          </a>
        </div>
      </div>

      {# Supporting image column - aspirational presentation #}
      <div class="opacity-0 translate-y-3 order-1 lg:order-2 transition-all duration-300 ease-[cubic-bezier(0.25,0.8,0.25,1)] lg:sticky lg:top-24" data-reveal>
        <figure class="relative group">
          {# Success visualization - golden glow to show empowerment #}
          <div class="absolute inset-0 -inset-x-6 -inset-y-6 bg-[radial-gradient(circle,rgba(200,154,58,0.15)_0%,rgba(200,154,58,0.08)_40%,transparent_80%)] rounded-full blur-2xl pointer-events-none"></div>
          <div class="absolute inset-0 -inset-x-4 -inset-y-4 bg-[radial-gradient(circle,rgba(129,23,31,0.06)_0%,transparent_60%)] rounded-full blur-xl pointer-events-none"></div>
          
          {# Main image container with aspirational framing #}
          <div class="relative overflow-hidden rounded-xl shadow-[0_8px_32px_rgba(200,154,58,0.15),0_4px_16px_rgba(129,23,31,0.1)] transition-all duration-500 ease-out group-hover:shadow-[0_12px_48px_rgba(200,154,58,0.2),0_8px_24px_rgba(129,23,31,0.15)] border border-gold-200/50">
            {# Subtle overlay to enhance aspirational feeling #}
            <div class="absolute inset-0 bg-gradient-to-br from-gold-500/8 via-transparent to-burgundy-700/5 pointer-events-none z-10"></div>
            
            {# Freedom indicator - showing work-life balance #}
            <div class="absolute top-4 right-4 z-20 opacity-70 group-hover:opacity-90 transition-opacity duration-300">
              <div class="bg-gold-600/90 backdrop-blur-sm text-white text-xs font-semibold px-2.5 py-1.5 rounded-md shadow-lg">
                <span class="flex items-center gap-1.5">
                  <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                  </svg>
                  <span>Liberdade</span>
                </span>
              </div>
            </div>
            
            <div class="relative aspect-[3/4] min-h-[500px] lg:min-h-[600px]">
            <picture>
              <!-- WebP/AVIF for modern browsers with 3:4 portrait aspect ratio -->
              <source type="image/avif"
                      srcset="https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_320,ar_3:4,c_fill,q_auto:eco,f_avif,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 320w,
                              https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_480,ar_3:4,c_fill,q_auto:eco,f_avif,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 480w,
                              https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_640,ar_3:4,c_fill,q_auto:good,f_avif,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 640w,
                              https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_800,ar_3:4,c_fill,q_auto:good,f_avif,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 800w,
                              https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_1024,ar_3:4,c_fill,q_auto:good,f_avif,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 1024w"
                      sizes="(max-width: 640px) 100vw, (max-width: 1024px) 45vw, 480px">
              
              <source type="image/webp"
                      srcset="https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_320,ar_3:4,c_fill,q_auto:eco,f_webp,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 320w,
                              https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_480,ar_3:4,c_fill,q_auto:eco,f_webp,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 480w,
                              https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_640,ar_3:4,c_fill,q_auto:good,f_webp,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 640w,
                              https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_800,ar_3:4,c_fill,q_auto:good,f_webp,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 800w,
                              https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_1024,ar_3:4,c_fill,q_auto:good,f_webp,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 1024w"
                      sizes="(max-width: 640px) 100vw, (max-width: 1024px) 45vw, 480px">
              
              <!-- Fallback JPEG with 3:4 portrait responsive srcset -->
              <img src="https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_480,ar_3:4,c_fill,q_auto:eco,f_auto,dpr_auto,g_auto:subject/{{ currentSection.media.image }}" 
                   srcset="https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_320,ar_3:4,c_fill,q_auto:eco,f_auto,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 320w,
                           https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_480,ar_3:4,c_fill,q_auto:eco,f_auto,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 480w,
                           https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_640,ar_3:4,c_fill,q_auto:good,f_auto,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 640w,
                           https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_800,ar_3:4,c_fill,q_auto:good,f_auto,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 800w,
                           https://res.cloudinary.com/{{ site.cloudinaryCloudName }}/image/upload/w_1024,ar_3:4,c_fill,q_auto:good,f_auto,dpr_auto,g_auto:subject/{{ currentSection.media.image }} 1024w"
                   sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 600px"
                   alt="{{ currentSection.media.alt }}"
                   width="600" height="800"
                   loading="lazy" 
                   decoding="async"
                   fetchpriority="low"
                   class="absolute inset-0 h-full w-full object-cover transition-transform duration-700 ease-out group-hover:scale-[1.02]" />
            </picture>
            </div>
          </div>
          
          {# Aspirational caption with visual connection to content #}
          <div class="mt-6 text-center opacity-80 group-hover:opacity-95 transition-opacity duration-300">
            <p class="font-century text-neutral-600 text-sm italic leading-relaxed max-w-[30ch] mx-auto">
              "Agora tenho um negócio que trabalha para mim, não o contrário."
            </p>
            <div class="mt-2 flex justify-center">
              <div class="h-px w-12 bg-gradient-to-r from-transparent via-gold-400 to-transparent"></div>
            </div>
          </div>
          
          <figcaption class="sr-only">Empreendedora confiante trabalhando num ambiente sereno e organizado, simbolizando liberdade e controlo do negócio, com indicador visual de sucesso e equilíbrio.</figcaption>
        </figure>
      </div>

    </div>
  </div>
</section>
<!-- Vision Section End -->